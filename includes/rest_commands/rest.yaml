voice_monkey_door_alert:
  url: "https://api-v2.voicemonkey.io/trigger?token=...&announcement={{ advisory | urlencode }}"
  method: get

gpt_chatgpt_query:
  url: "http://192.168.1.203:5001/api/chatgpt_query"
  method: POST
  content_type: "application/json"
  payload: '{"prompt": "{{ prompt }}"}'

gpt_create_backup:
  url: "http://192.168.1.203:5001/api/backup"
  method: POST
  content_type: "application/json"
  payload: '{"label": "{{ label }}"}'

gpt_reload_automations:
  url: "http://192.168.1.203:5001/api/reload_automations"
  method: POST

gpt_reload_scripts:
  url: "http://192.168.1.203:5001/api/reload_scripts"
  method: POST

collect_ha_metrics:
  url: "http://192.168.1.217:8123/api/states"
  method: GET
  headers:
    Authorization: "Bearer {{ states('input_text.ha_token') }}"
    Content-Type: "application/json"

gpt_set_input_text:
  url: "http://192.168.1.203:5001/api/input_text"
  method: POST
  content_type: "application/json"
  payload: '{"entity_id": "{{ entity_id }}", "value": "{{ value }}"}'

gpt_get_entity_state:
  url: "http://192.168.1.203:5001/api/entity_state?entity_id={{ entity_id }}"
  method: GET

ask_openai:
  url: "https://api.openai.com/v1/chat/completions"
  method: POST
  headers:
    Authorization: "Bearer {{ secrets.openai_api_key }}"
    Content-Type: "application/json"
  payload: >
    {
      "model": "gpt-4o",
      "messages": [
        { "role": "user", "content": "{{ prompt | default('Hello GPT') }}" }
      ],
      "temperature": 0.7
    }

jit_plugin_call:
  url: "http://127.0.0.1:5001/jit_plugin/{{ endpoint }}"
  method: POST
  content_type: "application/json"
  payload: "{{ payload }}"

jit_get_file_contents:
  url: "http://192.168.1.203:5001/jit_plugin/get_file_contents?path={{ path }}"
  method: GET

jit_list_folder:
  url: "http://192.168.1.203:5001/jit_plugin/list_folder?path={{ path }}"
  method: GET

run_nas_script:
  url: "http://127.0.0.1:5005/run_nas_script"
  method: POST
  headers:
    Content-Type: application/json
  payload: '{"prompt":"{{ prompt }}"}'

jit_write_file:
  url: "http://127.0.0.1:5001/jit_plugin/write_file"
  method: POST
  content_type: "application/json"
  payload: "{{ payload }}"

jit_reload_ha:
  url: "http://127.0.0.1:5001/jit_plugin/reload_ha"
  method: POST
  content_type: "application/json"
  payload: "{{ payload }}"

jit_run_script:
  url: "http://127.0.0.1:5001/jit_plugin/run_script"
  method: POST
  content_type: "application/json"
  payload: "{{ payload }}"

dropbox_upload:
  url: "https://content.dropboxapi.com/2/files/upload"
  method: POST
  headers:
    Authorization: "Bearer {{ secrets.dropbox_token }}"
    Content-Type: "application/octet-stream"
    Dropbox-API-Arg: '{"path": "/HA_Uploads/{{ filename }}", "mode": "add", "autorename": true, "mute": false}'
  payload: "{{ file_content }}"

openai_embed:
  url: "https://api.openai.com/v1/embeddings"
  method: POST
  headers:
    Authorization: "Bearer {{ secrets.openai_embed_key }}"
    Content-Type: "application/json"
  payload: >
    {
      "model": "text-embedding-3-large",
      "input": "{{ text_input }}"
    }

azure_cv:
  url: "https://<your-region>.api.cognitive.microsoft.com/vision/v3.2/analyze?visualFeatures=Categories,Description,Color"
  method: POST
  headers:
    Ocp-Apim-Subscription-Key: "{{ secrets.azure_cv_token }}"
    Content-Type: "application/octet-stream"
  payload: "{{ image_data }}"

google_tts:
  url: "https://texttospeech.googleapis.com/v1/text:synthesize"
  method: POST
  headers:
    Authorization: "Bearer {{ secrets.tts_google_key }}"
    Content-Type: "application/json"
  payload: >
    {
      "input": {"text": "{{ tts_text }}"},
      "voice": {"languageCode": "en-US", "name": "en-US-Wavenet-D"},
      "audioConfig": {"audioEncoding": "MP3"}
    }

notion_update:
  url: "https://api.notion.com/v1/pages"
  method: PATCH
  headers:
    Authorization: "Bearer {{ secrets.notion_token }}"
    Content-Type: "application/json"
    Notion-Version: "2022-06-28"
  payload: "{{ notion_payload }}"

external_webhook_trigger:
  method: POST
  url: "https://example.com/webhook"
  headers:
    content-type: "application/json"
  payload: '{"triggered from": "MP"}'

update_notion_icon:
  url: "https://api.notion.com/v1/pages/{{ notion_page_id }}"
  method: PATCH
  headers:
    Authorization: "Bearer {{ secrets.notion_token }}"
    Content-Type: "application/json"
    Notion-Version: "2022-06-28"
  payload: '{"icon":{"emoji":"ðŸ“˜"}}'
  content_type: "application/json"